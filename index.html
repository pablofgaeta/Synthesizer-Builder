<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Synthesizer-Builder</title>

	<link rel="stylesheet" href="main.css">
	<script src='utilities.js'></script>
	<script src='Libraries/name.js'></script>
	<script src='Libraries/Tone.js'></script>
	<script src='GCM_Audio.js'></script>
	<script src='SynthBuilder.js'></script>
</head>
<body>
	<center id='app-container'>
		<div id='app-title' class='flex-container-center bg-white'>
			<div class='txt-l gray no-select'>Custom Synths</div>
			<button id='add-synth' class='button-l trigger no-select'>Create Synth</button>
		</div>
		<div id='synth-card-container' class='flex-container-center fade-in'></div>
		<div id='synth-editor-container' class='flex-container-center bg-white fade-in'></div>
	</center>

	<script>
		let AppContainer = document.getElementById('app-container');
		let SynthCardContainer = document.getElementById('synth-card-container');
		let SynthEditorContainer = document.getElementById('synth-editor-container');

		document.getElementById('add-synth').onclick = function() {
			SynthBuilder.create(SynthCardContainer, SynthEditorContainer);
		}

		window.onkeydown = (event) => {
			SynthBuilder.active().synth.attack(event.key);
		}
		window.onkeyup = (event) => {
			SynthBuilder.active().synth.release(event.key);
		}

		window.onkeypress = (event) => {
			switch (event.key) {
				case 'x' :
					SynthBuilder.active().synth.increment_octave();
					break;
				case 'z' :
					SynthBuilder.active().synth.decrement_octave();
					break;
			}
		}
	</script>
</body>
</html>